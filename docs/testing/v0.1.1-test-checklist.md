# v0.1.1 功能测试清单

## 📋 测试概览

**测试时间**: 2026年2月7日  
**测试版本**: v0.1.1 (Unreleased)  
**测试环境**: 
- 浏览器: Chrome/Firefox/Safari
- 设备: 桌面（必须）、移动端（可选）
- 开发服务器: http://localhost:5174

---

## ✅ 功能 1: 在线帮助文档

### 基础功能测试

- [ ] **帮助按钮可见性**
  - 进入应用，顶部栏应显示「❓ 帮助」按钮
  - 按钮应位于示例选择器和模式切换之间
  - 移动端应显示为「❓」（隐藏文字）

- [ ] **点击打开模态框**
  - 点击帮助按钮
  - 模态框应平滑弹出
  - 背景应半透明遮罩（黑色 50% 透明度）

- [ ] **模态框内容完整性**
  - 标题：「📖 简谱源码编写说明」
  - 快速入门章节（三步）
  - 完整语法规则章节
  - 完整示例章节
  - 常见问题章节
  - 底部文档链接和「知道了」按钮

- [ ] **关闭功能**
  - 点击「X」按钮可关闭
  - 点击「知道了」按钮可关闭
  - 点击背景遮罩可关闭
  - 点击模态框内容区域不应关闭

### 内容准确性测试

- [ ] **快速入门内容**
  - 元信息示例显示正确
  - 音符示例显示正确
  - 节奏示例显示正确

- [ ] **语法规则表格**
  - 音符表格（1-7 对应 do-si）
  - 高低八度表格（'、''、.、..）
  - 变音记号表格（#、b）
  - 时值表格（减时线、延长线）

- [ ] **示例代码格式**
  - 代码块使用等宽字体
  - 灰色背景清晰可读
  - 竖线 | 和其他符号显示正确

### 响应式测试

- [ ] **桌面端（>1024px）**
  - 模态框宽度约 90vw
  - 内容区域可滚动
  - 表格不溢出

- [ ] **平板端（640-1024px）**
  - 模态框自适应宽度
  - 内容可读

- [ ] **移动端（<640px）**
  - 模态框接近全屏
  - 按钮「帮助」文字隐藏，只显示 ❓

### 交互体验测试

- [ ] **滚动流畅性**
  - 内容区域可平滑滚动
  - 滚动条样式美观

- [ ] **动画效果**
  - 打开/关闭有淡入淡出效果（可选）

---

## ✅ 功能 2: 可拖动分隔线

### 基础功能测试

- [ ] **分隔线可见性**
  - 编辑模式下，编辑器和预览之间有分隔线
  - 分隔线宽度约 1px，颜色为浅灰色

- [ ] **悬停效果**
  - 鼠标悬停在分隔线上
  - 光标变为 `col-resize` （左右箭头）
  - 分隔线变为蓝色
  - 中央显示蓝色提示条（高度约 12px）

- [ ] **拖动功能**
  - 按住鼠标左键
  - 左右拖动分隔线
  - 编辑器和预览面板宽度实时调整

- [ ] **拖动状态反馈**
  - 拖动时分隔线保持蓝色高亮
  - 全局光标变为 `col-resize`
  - 无法选中文本（userSelect: none）

- [ ] **释放鼠标**
  - 松开鼠标左键
  - 宽度固定在当前位置
  - 分隔线恢复正常颜色（悬停时除外）

### 边界条件测试

- [ ] **左侧最小宽度**
  - 拖动分隔线到左侧边缘
  - 编辑器宽度不应小于 300px
  - 继续向左拖动无效

- [ ] **右侧最小宽度**
  - 拖动分隔线到右侧边缘
  - 预览面板宽度不应小于 300px
  - 继续向右拖动无效

- [ ] **拖出窗口外**
  - 拖动时鼠标移出窗口
  - 应继续跟踪鼠标位置
  - 松开鼠标仍然生效

### 布局一致性测试

- [ ] **初始状态**
  - 默认 50/50 分割
  - 编辑器和预览面板高度相同

- [ ] **拖动后状态**
  - 调整为 30/70
  - 两侧面板无重叠
  - 分隔线位置准确

- [ ] **窗口调整**
  - 拖动后调整浏览器窗口大小
  - 百分比保持不变
  - 最小宽度限制仍生效

### 性能测试

- [ ] **流畅度**
  - 拖动时无明显卡顿
  - CPU 占用正常（<20%）

- [ ] **内存泄漏**
  - 多次拖动后内存无明显增长
  - 事件监听器正确清理

### 兼容性测试

- [ ] **仅桌面设备**
  - 桌面端（>768px）显示可拖动分隔线
  - 移动端（<768px）不显示（使用原有布局）

- [ ] **演奏模式**
  - 切换到演奏模式
  - 不显示分隔线（仅全屏预览）

---

## ✅ 功能 3: 集成测试

### 帮助文档 + 拖动布局

- [ ] **同时使用**
  - 调整布局为 70/30
  - 打开帮助模态框
  - 关闭帮助模态框
  - 布局保持 70/30

- [ ] **模态框遮挡**
  - 打开帮助模态框
  - 模态框应完全遮挡分隔线
  - 无法在模态框后拖动

### 与现有功能兼容性

- [ ] **编辑器输入**
  - 调整布局
  - 在编辑器输入简谱
  - 预览实时更新

- [ ] **示例加载**
  - 调整布局为 40/60
  - 加载示例曲谱（小星星）
  - 布局保持 40/60
  - 示例正确显示

- [ ] **模式切换**
  - 编辑模式调整布局为 60/40
  - 切换到演奏模式
  - 切换回编辑模式
  - 布局保持 60/40（当前不持久化，恢复默认 50/50）

- [ ] **播放功能**
  - 调整布局
  - 切换到演奏模式
  - 播放曲谱
  - 音符高亮正常

---

## 🐛 已知问题

### 问题 1: 布局不持久化
- **现象**: 切换模式或刷新页面后，布局恢复默认 50/50
- **影响**: 🟡 中等（用户体验）
- **计划**: v0.2.0 添加 localStorage 持久化

### 问题 2: 移动端无拖动功能
- **现象**: 小屏设备无法拖动分隔线
- **影响**: 🟢 轻微（移动端可垂直滚动查看）
- **计划**: 保持现状，移动端体验已优化

### 问题 3: 帮助模态框无搜索
- **现象**: 内容较多时查找不便
- **影响**: 🟢 轻微（分段落组织已足够）
- **计划**: v0.2.0 考虑添加搜索功能

---

## 📊 测试结果汇总

### 手动测试

| 功能 | 测试项 | 通过 | 失败 | 阻塞 |
|------|--------|------|------|------|
| 帮助文档 | 14 | - | - | - |
| 拖动布局 | 17 | - | - | - |
| 集成测试 | 6 | - | - | - |
| **总计** | **37** | **-** | **-** | **-** |

**说明**: 使用时请在对应项打勾 ✅

### 自动化测试

暂无（需要 E2E 测试框架如 Playwright/Cypress）

---

## 🚀 发布前检查

- [ ] 所有测试项通过
- [ ] 无阻塞级 bug
- [ ] 文档更新完成（README、CHANGELOG）
- [ ] 代码审查通过
- [ ] 生产构建成功

---

## 📝 测试备注

**测试人员签名**: _________________  
**测试完成时间**: _________________  
**备注**: 
```




```

---

**文档版本**: v1.0  
**创建时间**: 2026年2月7日
